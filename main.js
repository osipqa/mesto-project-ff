(()=>{"use strict";var e={873:(e,t,o)=>{o.r(t)},501:function(e,t){var o=this&&this.__awaiter||function(e,t,o,r){return new(o||(o=Promise))((function(n,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function c(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(i,c)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getInfo=function(e){return o(this,void 0,void 0,(function*(){try{const t=yield fetch(`${r.baseUrl}${e}`,{method:"GET",headers:r.headers});return yield t.json()}catch(e){return Promise.reject(`Error: ${e.status}`)}}))},t.getCards=function(e){return o(this,void 0,void 0,(function*(){try{const t=yield fetch(`${r.baseUrl}${e}`,{method:"GET",headers:r.headers});return yield t.json()}catch(e){return Promise.reject(`Error: ${e.status}`)}}))},t.toChangeNames=function(e,t){return o(this,void 0,void 0,(function*(){return yield n("/users/me",{name:e,about:t},"PATCH")}))},t.toChangeAvatar=function(e){return o(this,void 0,void 0,(function*(){return yield n("/users/me/avatar",{avatar:e},"PATCH")}))},t.addCards=function(e,t){return o(this,void 0,void 0,(function*(){return yield n("/cards",{name:e,link:t})}))},t.deleteCards=function(e){return o(this,void 0,void 0,(function*(){return yield n(`/cards/${e}`,{},"DELETE")}))},t.deleteLike=function(e){return o(this,void 0,void 0,(function*(){return yield n(`/cards/likes/${e._id}`,{},"DELETE")}))},t.addLike=function(e){return o(this,void 0,void 0,(function*(){return yield n(`/cards/likes/${e._id}`,{},"PUT")}))};const r={baseUrl:"https://nomoreparties.co/v1/wff-cohort-2",headers:{authorization:"637888a1-9ced-4570-b92f-3c1ad708077b","Content-Type":"application/json"}};function n(e,t){return o(this,arguments,void 0,(function*(e,t,o="POST",n){try{const a=yield fetch(`${r.baseUrl}${e}`,{method:o,headers:Object.assign(Object.assign({},r.headers),{Authorization:n||r.headers.authorization}),body:JSON.stringify(t)});if(!a.ok)throw new Error(`Error: ${a.status}`);return yield a.json()}catch(e){return Promise.reject(e.message)}}))}},651:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createCard=function(e,t,o,r,a){const i=n.cloneNode(!0),u=i.querySelector(".card__delete-button"),l=i.querySelector(".card__image"),s=i.querySelector(".card__title"),d=i.querySelector(".card__like-button"),p=i.querySelector(".card__like-count");return l.src=e.link,l.alt=e.name,s.textContent=e.name,p.textContent=e.likes.length.toString(),l.addEventListener("click",(()=>o(e))),d.addEventListener("click",(()=>r(e,a,i))),i.id=e._id,e.owner&&a!==e.owner._id?u.remove():u.addEventListener("click",(()=>{t(e)})),c(e,a)?d.classList.add("card__like-button_is-active"):d.classList.remove("card__like-button_is-active"),i},t.handleLike=function(e,t,o){const n=o.querySelector(".card__like-button"),u=o.querySelector(".card__like-count");c(e,t)?(0,r.deleteLike)(e).then((t=>{a(t,n,u),e.likes=t.likes})).catch(i):(0,r.addLike)(e).then((t=>{a(t,n,u),e.likes=t.likes})).catch(i)};const r=o(501),n=document.querySelector("#card-template").content.querySelector(".places__item");function a(e,t,o){t.classList.toggle("card__like-button_is-active"),o.textContent=e.likes.length.toString()}function i(e){console.error(`Error message: ${e.message}`)}function c(e,t){return e.likes.some((e=>e._id===t))}},340:(e,t)=>{function o(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",r)}function r(e){if("Escape"===e.code){const e=document.querySelector(".popup_is-opened");e&&o(e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.openModal=function(e){e.classList.add("popup_is-opened"),document.addEventListener("keydown",r)},t.closeModal=o},478:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.clearValidation=function(e,t){const o=Array.from(e.querySelectorAll(t.inputSelector)),a=e.querySelector(t.submitButtonSelector);o.forEach((o=>{r(e,o,t)})),n(o,a,t)},t.enableValidation=function(e){Array.from(document.querySelectorAll(e.formSelector)).forEach((t=>{!function(e,t){const o=Array.from(e.querySelectorAll(t.inputSelector)),a=e.querySelector(t.submitButtonSelector);o.forEach((i=>{i.addEventListener("input",(()=>{!function(e,t,o){t.validity.patternMismatch?t.setCustomValidity(t.dataset.errorMessage||""):t.setCustomValidity(""),t.validity.valid?r(e,t,o):function(e,t,o,{inputErrorClass:r,errorClass:n}){const a=e.querySelector(`.${t.id}-error`);t.classList.add(r),a.classList.add(n),a.textContent=o}(e,t,t.validationMessage,o)}(e,i,t),n(o,a,t)}))}))}(t,e)}))};const o=e=>e.some((e=>!e.validity.valid));function r(e,t,{inputErrorClass:o,errorClass:r}){const n=e.querySelector(`.${t.id}-error`);t.classList.remove(o),n.classList.remove(r),n.textContent=""}function n(e,t,r){o(e)?(t.disabled=!0,t.classList.add(r.inactiveButtonClass)):(t.disabled=!1,t.classList.remove(r.inactiveButtonClass))}}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,o),a.exports}o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{o(873);const e=o(651),t=o(501),r=o(340),n=o(478),a=document.querySelector(".places__list"),i=document.querySelector(".profile__edit-button"),c=document.querySelector(".profile__add-button"),u=document.querySelector(".profile__image"),l=document.querySelector(".popup__avatar"),s=document.getElementById("link-avatar-input"),d=document.querySelector(".popup_delete-image"),p=d.querySelector(".popup__button"),_=l.querySelector(".popup__button"),y=document.querySelector(".popup_type_new-card"),f=document.querySelector(".popup_type_image"),m=f.querySelector(".popup__image"),v=document.querySelector(".popup__caption"),h=document.querySelector(".profile__title"),S=document.querySelector(".profile__description"),b=document.querySelector(".popup_type_edit"),g=b.querySelector(".popup__button"),q=b.querySelector(".popup__form"),C=q.querySelector(".popup__input_type_name"),k=q.querySelector(".popup__input_type_description"),E=document.querySelectorAll(".popup"),L=y.querySelector(".popup__button"),x=y.querySelector(".popup__input_type_card-name"),M=y.querySelector(".popup__input_type_url"),$={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"};function j(e){(0,r.openModal)(d),p.dataset.cardId=e._id}function P(e){m.alt=e.name,v.textContent=e.name,m.src=e.link,(0,r.openModal)(f)}function w(e,t){t.textContent=e?"Сохранение...":t.dataset.buttonText}E.forEach((e=>{e.addEventListener("mouseup",(({target:t,currentTarget:o})=>{(t.classList.contains("popup__close")||t===o)&&(0,r.closeModal)(e)}))})),Promise.all([(0,t.getInfo)("/users/me"),(0,t.getCards)("/cards")]).then((([t,o])=>{h.textContent=t.name,S.textContent=t.about,u.style.backgroundImage=`url('${t.avatar}')`,console.log("Current user ID:",t._id),o.forEach((o=>a.append((0,e.createCard)(o,j,P,e.handleLike,t._id))))})).catch((e=>Promise.reject(`Error: ${e.status}`))),i.addEventListener("click",(()=>{C.value=h.textContent,k.value=S.textContent,(0,n.clearValidation)(b,$),(0,r.openModal)(b)})),c.addEventListener("click",(()=>{(0,n.clearValidation)(y,$),(0,r.openModal)(y)})),u.addEventListener("click",(()=>{s.value="",(0,n.clearValidation)(l,$),(0,r.openModal)(l)})),y.addEventListener("submit",(function(o){o.preventDefault(),w(!0,L),(0,t.addCards)(x.value,M.value).then((t=>{var o;a.append((0,e.createCard)(t,j,P,e.handleLike,null===(o=t.owner)||void 0===o?void 0:o._id))})).catch((e=>console.log(e))).finally((()=>{w(!1,L),(0,r.closeModal)(y)})),y.querySelector(".popup__form").reset()})),q.addEventListener("submit",(function(e){e.preventDefault(),w(!0,g),(0,t.toChangeNames)(C.value,k.value).then((e=>{h.textContent=e.name,S.textContent=e.about})).catch((e=>console.log(e))).finally((()=>{w(!1,g),(0,r.closeModal)(b)}))})),l.addEventListener("submit",(function(e){e.preventDefault(),w(!0,_),(0,t.toChangeAvatar)(s.value).then((e=>{u.style.backgroundImage=`url('${e.avatar}')`})).catch((e=>console.log(e))).finally((()=>{w(!1,_),(0,r.closeModal)(l)}))})),p.addEventListener("click",(function(e){e.preventDefault(),w(!0,p);const o=p.dataset.cardId;(0,t.deleteCards)(o).then((()=>{const e=document.getElementById(o);e&&(e.remove(),p.dataset.cardId="",w(!1,p),(0,r.closeModal)(d))})).catch((e=>console.log(e)))})),(0,n.enableValidation)($)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QnNLLFNBQVEsS0FDUHBCLEdBQVMsRUFBT2QsSUFDaEIsSUFBQS9ELFlBQVcwRCxFQUFZLEdBRTdCLElBMkVBSSxFQUFzQnRGLGlCQUFpQixTQTFEdkMsU0FBMEI0QixHQUN4QkEsRUFBSTJGLGlCQUNKbEIsR0FBUyxFQUFNZixHQUNmLE1BQU11QyxFQUFTdkMsRUFBc0JwQyxRQUFRakYsUUFDN0MsSUFBQTZKLGFBQVlELEdBQ1RsSCxNQUFLLEtBQ0osTUFBTW9ILEVBQWE5RyxTQUFTbUUsZUFBZXlDLEdBQ3ZDRSxJQUNGQSxFQUFXNUgsU0FDWG1GLEVBQXNCcEMsUUFBUWpGLE9BQVMsR0FDdkNvSSxHQUFTLEVBQU9mLElBQ2hCLElBQUE5RCxZQUFXNkQsR0FDYixJQUVEdkUsT0FBTTNELEdBQU9pRSxRQUFRK0YsSUFBSWhLLElBQzlCLEtBNkNBLElBQUE2SyxrQkFBaUIvRixFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8tcHJvamVjdC1mZi8uL3NyYy9jb21wb25lbnRzL2FwaS50cyIsIndlYnBhY2s6Ly9tZXN0by1wcm9qZWN0LWZmLy4vc3JjL2NvbXBvbmVudHMvY2FyZC50cyIsIndlYnBhY2s6Ly9tZXN0by1wcm9qZWN0LWZmLy4vc3JjL2NvbXBvbmVudHMvbW9kYWwudHMiLCJ3ZWJwYWNrOi8vbWVzdG8tcHJvamVjdC1mZi8uL3NyYy9jb21wb25lbnRzL3ZhbGlkYXRpb24udHMiLCJ3ZWJwYWNrOi8vbWVzdG8tcHJvamVjdC1mZi93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9tZXN0by1wcm9qZWN0LWZmL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vbWVzdG8tcHJvamVjdC1mZi8uL3NyYy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJ0eXBlIENvbmZpZyA9IHtcclxuICBiYXNlVXJsOiBzdHJpbmcsXHJcbiAgaGVhZGVyczoge1xyXG4gICAgYXV0aG9yaXphdGlvbjogc3RyaW5nO1xyXG4gICAgJ0NvbnRlbnQtVHlwZSc6IHN0cmluZztcclxuICB9O1xyXG59O1xyXG5cclxudHlwZSBBcGlSZXNwb25zZTxUPiA9IFByb21pc2U8VD47XHJcblxyXG5jb25zdCBjb25maWc6IENvbmZpZyA9IHtcclxuICBiYXNlVXJsOiAnaHR0cHM6Ly9ub21vcmVwYXJ0aWVzLmNvL3YxL3dmZi1jb2hvcnQtMicsXHJcbiAgaGVhZGVyczoge1xyXG4gICAgYXV0aG9yaXphdGlvbjogJzYzNzg4OGExLTljZWQtNDU3MC1iOTJmLTNjMWFkNzA4MDc3YicsXHJcbiAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0SW5mbyhkYXRhOiBzdHJpbmcpOiBBcGlSZXNwb25zZTxhbnk+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtjb25maWcuYmFzZVVybH0ke2RhdGF9YCwge1xyXG4gICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICBoZWFkZXJzOiBjb25maWcuaGVhZGVyc1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHsoZXJyIGFzIFJlc3BvbnNlKS5zdGF0dXN9YCk7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENhcmRzKGRhdGE6IHN0cmluZyk6IEFwaVJlc3BvbnNlPGFueT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke2NvbmZpZy5iYXNlVXJsfSR7ZGF0YX1gLCB7XHJcbiAgICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICAgIGhlYWRlcnM6IGNvbmZpZy5oZWFkZXJzXHJcbiAgICB9KTtcclxuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAkeyhlcnIgYXMgUmVzcG9uc2UpLnN0YXR1c31gKTtcclxuICB9O1xyXG59O1xyXG5cclxuYXN5bmMgZnVuY3Rpb24gcG9zdCh1cmw6IHN0cmluZywgZGF0YTogYW55LCBtZXRob2Q6IHN0cmluZyA9ICdQT1NUJywgdXNlcklEPzogc3RyaW5nKTogQXBpUmVzcG9uc2U8YW55PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7Y29uZmlnLmJhc2VVcmx9JHt1cmx9YCwge1xyXG4gICAgICBtZXRob2QsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAuLi5jb25maWcuaGVhZGVycyxcclxuICAgICAgICBBdXRob3JpemF0aW9uOiB1c2VySUQgfHwgY29uZmlnLmhlYWRlcnMuYXV0aG9yaXphdGlvblxyXG4gICAgICB9LFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKVxyXG4gICAgfSk7XHJcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgoZXJyIGFzIEVycm9yKS5tZXNzYWdlKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB0b0NoYW5nZU5hbWVzKGlucHV0TmFtZTogc3RyaW5nLCBpbnB1dERlc2NyaXB0aW9uOiBzdHJpbmcpOiBBcGlSZXNwb25zZTxhbnk+IHtcclxuICByZXR1cm4gYXdhaXQgcG9zdCgnL3VzZXJzL21lJywgeyBuYW1lOiBpbnB1dE5hbWUsIGFib3V0OiBpbnB1dERlc2NyaXB0aW9uIH0sICdQQVRDSCcpO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdG9DaGFuZ2VBdmF0YXIoYXZhdGFyTGluazogc3RyaW5nKTogQXBpUmVzcG9uc2U8YW55PiB7XHJcbiAgcmV0dXJuIGF3YWl0IHBvc3QoJy91c2Vycy9tZS9hdmF0YXInLCB7IGF2YXRhcjogYXZhdGFyTGluayB9LCAnUEFUQ0gnKTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFkZENhcmRzKGRhdGFOYW1lOiBzdHJpbmcsIGRhdGFMaW5rOiBzdHJpbmcpOiBBcGlSZXNwb25zZTxhbnk+IHtcclxuICByZXR1cm4gYXdhaXQgcG9zdCgnL2NhcmRzJywgeyBuYW1lOiBkYXRhTmFtZSwgbGluazogZGF0YUxpbmsgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVDYXJkcyhjYXJkSWQ6IHN0cmluZyk6IEFwaVJlc3BvbnNlPGFueT4ge1xyXG4gIHJldHVybiBhd2FpdCBwb3N0KGAvY2FyZHMvJHtjYXJkSWR9YCwge30sICdERUxFVEUnKTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUxpa2UoZGF0YTogeyBfaWQ6IHN0cmluZyB9KTogQXBpUmVzcG9uc2U8YW55PiB7XHJcbiAgcmV0dXJuIGF3YWl0IHBvc3QoYC9jYXJkcy9saWtlcy8ke2RhdGEuX2lkfWAsIHt9LCAnREVMRVRFJyk7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhZGRMaWtlKGRhdGE6IHsgX2lkOiBzdHJpbmcgfSk6IEFwaVJlc3BvbnNlPGFueT4ge1xyXG4gIHJldHVybiBhd2FpdCBwb3N0KGAvY2FyZHMvbGlrZXMvJHtkYXRhLl9pZH1gLCB7fSwgJ1BVVCcpO1xyXG59IiwiaW1wb3J0IHsgYWRkTGlrZSwgZGVsZXRlTGlrZSB9IGZyb20gJy4vYXBpJ1xyXG5cclxuY29uc3QgY2FyZFRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MVGVtcGxhdGVFbGVtZW50PignI2NhcmQtdGVtcGxhdGUnKSEuY29udGVudC5xdWVyeVNlbGVjdG9yKCcucGxhY2VzX19pdGVtJykhO1xyXG5cclxuaW50ZXJmYWNlIExpa2VSZXNwb25zZSB7XHJcbiAgbGlrZXM6IHsgX2lkOiBzdHJpbmcgfVtdO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgQ2FyZERhdGEge1xyXG4gIF9pZDogc3RyaW5nO1xyXG4gIG5hbWU6IHN0cmluZztcclxuICBsaW5rOiBzdHJpbmc7XHJcbiAgbGlrZXM6IHsgX2lkOiBzdHJpbmcgfVtdO1xyXG4gIG93bmVyPzogeyBfaWQ6IHN0cmluZyB9O1xyXG59XHJcblxyXG50eXBlIFJlbW92ZUNhcmQgPSAoZGF0YTogQ2FyZERhdGEpID0+IHZvaWQ7XHJcbnR5cGUgT3BlbkltZyA9IChkYXRhOiBDYXJkRGF0YSkgPT4gdm9pZDtcclxudHlwZSBIYW5kbGVMaWtlID0gKGRhdGE6IENhcmREYXRhLCB1c2VySUQ6IHN0cmluZywgY2FyZEVsZW1lbnQ6IEhUTUxFbGVtZW50KSA9PiB2b2lkO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNhcmQgKGRhdGE6IENhcmREYXRhLCByZW1vdmVDYXJkOiBSZW1vdmVDYXJkLCBvcGVuSW1nOiBPcGVuSW1nLCBoYW5kbGVMaWtlOiBIYW5kbGVMaWtlLCBJRDogc3RyaW5nKTogSFRNTEVsZW1lbnQge1xyXG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZFRlbXBsYXRlLmNsb25lTm9kZSh0cnVlKSBhcyBIVE1MRWxlbWVudDtcclxuICBjb25zdCBjYXJkRGVsZXRlQnV0dG9uID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MQnV0dG9uRWxlbWVudD4oJy5jYXJkX19kZWxldGUtYnV0dG9uJykhO1xyXG4gIGNvbnN0IGNhcmRJbWFnZSA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTEltYWdlRWxlbWVudD4oJy5jYXJkX19pbWFnZScpITtcclxuICBjb25zdCBjYXJkVGl0bGUgPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yPEhUTUxIZWFkaW5nRWxlbWVudD4oJy5jYXJkX190aXRsZScpITtcclxuICBjb25zdCBjYXJkTGlrZUJ1dHRvbiA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTEJ1dHRvbkVsZW1lbnQ+KCcuY2FyZF9fbGlrZS1idXR0b24nKSE7XHJcbiAgY29uc3QgY2FyZExpa2VDb3VudCA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTEVsZW1lbnQ+KCcuY2FyZF9fbGlrZS1jb3VudCcpITtcclxuICBjYXJkSW1hZ2Uuc3JjID0gZGF0YS5saW5rO1xyXG4gIGNhcmRJbWFnZS5hbHQgPSBkYXRhLm5hbWU7XHJcbiAgY2FyZFRpdGxlLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xyXG4gIGNhcmRMaWtlQ291bnQudGV4dENvbnRlbnQgPSBkYXRhLmxpa2VzLmxlbmd0aC50b1N0cmluZygpO1xyXG4gIGNhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IG9wZW5JbWcoZGF0YSkpO1xyXG4gIGNhcmRMaWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gaGFuZGxlTGlrZShkYXRhLCBJRCwgY2FyZEVsZW1lbnQpKTtcclxuICBjYXJkRWxlbWVudC5pZCA9IGRhdGEuX2lkO1xyXG5cclxuICBpZiAoZGF0YS5vd25lciAmJiBJRCAhPT0gZGF0YS5vd25lci5faWQpIHtcclxuICAgIGNhcmREZWxldGVCdXR0b24ucmVtb3ZlKCk7XHJcbiAgfSBlbHNlIHtcclxuICAgICAgY2FyZERlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgcmVtb3ZlQ2FyZChkYXRhKTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIGlmIChjaGVjayhkYXRhLCBJRCkpIHtcclxuICAgIGNhcmRMaWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2NhcmRfX2xpa2UtYnV0dG9uX2lzLWFjdGl2ZScpXHJcbiAgfSBlbHNlIHtcclxuICAgIGNhcmRMaWtlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2NhcmRfX2xpa2UtYnV0dG9uX2lzLWFjdGl2ZScpXHJcbiAgfVxyXG5cclxuICByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVMaWtlKGNhcmQ6IENhcmREYXRhLCB1c2VySUQ6IHN0cmluZywgY2FyZEVsZW1lbnQ6IEhUTUxFbGVtZW50KTogdm9pZCB7XHJcbiAgY29uc3QgYnV0dG9uTGlrZSA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTEJ1dHRvbkVsZW1lbnQ+KCcuY2FyZF9fbGlrZS1idXR0b24nKSE7XHJcbiAgY29uc3QgYnV0dG9uQ291bnQgPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yPEhUTUxFbGVtZW50PignLmNhcmRfX2xpa2UtY291bnQnKSE7XHJcbiAgXHJcbiAgaWYgKGNoZWNrKGNhcmQsIHVzZXJJRCkpIHtcclxuICAgIGRlbGV0ZUxpa2UoY2FyZClcclxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgIGhhbmRsZUxpa2VTdWNjZXNzKHJlcywgYnV0dG9uTGlrZSwgYnV0dG9uQ291bnQpO1xyXG4gICAgICAgIGNhcmQubGlrZXMgPSByZXMubGlrZXM7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaChoYW5kbGVMaWtlRXJyb3IpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBhZGRMaWtlKGNhcmQpXHJcbiAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICBoYW5kbGVMaWtlU3VjY2VzcyhyZXMsIGJ1dHRvbkxpa2UsIGJ1dHRvbkNvdW50KTtcclxuICAgICAgICBjYXJkLmxpa2VzID0gcmVzLmxpa2VzO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goaGFuZGxlTGlrZUVycm9yKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUxpa2VTdWNjZXNzKHJlczogTGlrZVJlc3BvbnNlLCBidXR0b25MaWtlOiBIVE1MQnV0dG9uRWxlbWVudCwgYnV0dG9uQ291bnQ6IEhUTUxFbGVtZW50KTogdm9pZCB7XHJcbiAgYnV0dG9uTGlrZS5jbGFzc0xpc3QudG9nZ2xlKCdjYXJkX19saWtlLWJ1dHRvbl9pcy1hY3RpdmUnKTtcclxuICBidXR0b25Db3VudC50ZXh0Q29udGVudCA9IHJlcy5saWtlcy5sZW5ndGgudG9TdHJpbmcoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlTGlrZUVycm9yKGVycjogRXJyb3IpOiB2b2lkIHtcclxuICBjb25zb2xlLmVycm9yKGBFcnJvciBtZXNzYWdlOiAke2Vyci5tZXNzYWdlfWApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjaGVjayhkYXRhOiBDYXJkRGF0YSwgdXNlcklEOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICByZXR1cm4gZGF0YS5saWtlcy5zb21lKChsaWtlKSA9PiBsaWtlLl9pZCA9PT0gdXNlcklEKTtcclxufSIsImV4cG9ydCB7IG9wZW5Nb2RhbCwgY2xvc2VNb2RhbCB9O1xyXG5cclxuZnVuY3Rpb24gb3Blbk1vZGFsKHBvcHVwOiBIVE1MRWxlbWVudCk6IHZvaWQge1xyXG4gIHBvcHVwLmNsYXNzTGlzdC5hZGQoJ3BvcHVwX2lzLW9wZW5lZCcpO1xyXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBjbG9zZUVzYyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNsb3NlTW9kYWwocG9wdXA6IEhUTUxFbGVtZW50KTogdm9pZCB7XHJcbiAgcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfaXMtb3BlbmVkJyk7XHJcbiAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGNsb3NlRXNjKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY2xvc2VFc2MoZXZ0OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XHJcbiAgaWYgKGV2dC5jb2RlID09PSAnRXNjYXBlJykge1xyXG4gICAgY29uc3Qgb3BlbmVkUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfaXMtb3BlbmVkJykgYXMgSFRNTEVsZW1lbnQgfCBudWxsO1xyXG4gICAgaWYgKG9wZW5lZFBvcHVwKSB7XHJcbiAgICAgIGNsb3NlTW9kYWwob3BlbmVkUG9wdXApO1xyXG4gICAgfVxyXG4gIH1cclxufSIsImludGVyZmFjZSBWYWxpZGF0aW9uQ29uZmlnIHtcclxuICBpbnB1dFNlbGVjdG9yOiBzdHJpbmc7XHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IHN0cmluZztcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBzdHJpbmc7XHJcbiAgaW5wdXRFcnJvckNsYXNzOiBzdHJpbmc7XHJcbiAgZXJyb3JDbGFzczogc3RyaW5nO1xyXG4gIGZvcm1TZWxlY3Rvcjogc3RyaW5nO1xyXG59XHJcblxyXG5jb25zdCBjaGVja1ZhbGlkID0gKGlucHV0TGlzdDogSFRNTElucHV0RWxlbWVudFtdKTogYm9vbGVhbiA9PlxyXG4gIGlucHV0TGlzdC5zb21lKChpbnB1dCkgPT4gIWlucHV0LnZhbGlkaXR5LnZhbGlkKTtcclxuXHJcbmZ1bmN0aW9uIHNob3dJbnB1dEVycm9yKFxyXG4gIGZvcm1FbGVtZW50OiBIVE1MRm9ybUVsZW1lbnQsXHJcbiAgaW5wdXRFbGVtZW50OiBIVE1MSW5wdXRFbGVtZW50LFxyXG4gIGVycm9yTWVzc2FnZTogc3RyaW5nLFxyXG4gIHsgaW5wdXRFcnJvckNsYXNzLCBlcnJvckNsYXNzIH06IFZhbGlkYXRpb25Db25maWdcclxuKTogdm9pZCB7XHJcbiAgY29uc3QgZXJyb3JFbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApIGFzIEhUTUxFbGVtZW50O1xyXG4gIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKGlucHV0RXJyb3JDbGFzcyk7XHJcbiAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQoZXJyb3JDbGFzcyk7XHJcbiAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoaWRlSW5wdXRFcnJvcihcclxuICBmb3JtRWxlbWVudDogSFRNTEZvcm1FbGVtZW50LFxyXG4gIGlucHV0RWxlbWVudDogSFRNTElucHV0RWxlbWVudCxcclxuICB7IGlucHV0RXJyb3JDbGFzcywgZXJyb3JDbGFzcyB9OiBWYWxpZGF0aW9uQ29uZmlnXHJcbik6IHZvaWQge1xyXG4gIGNvbnN0IGVycm9yRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKSBhcyBIVE1MRWxlbWVudDtcclxuICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShpbnB1dEVycm9yQ2xhc3MpO1xyXG4gIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGVycm9yQ2xhc3MpO1xyXG4gIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9ICcnO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpc1ZhbGlkKFxyXG4gIGZvcm1FbGVtZW50OiBIVE1MRm9ybUVsZW1lbnQsXHJcbiAgaW5wdXRFbGVtZW50OiBIVE1MSW5wdXRFbGVtZW50LFxyXG4gIHZhbGlkYXRpb25Db25maWc6IFZhbGlkYXRpb25Db25maWdcclxuKTogdm9pZCB7XHJcbiAgaWYgKGlucHV0RWxlbWVudC52YWxpZGl0eS5wYXR0ZXJuTWlzbWF0Y2gpIHtcclxuICAgIGlucHV0RWxlbWVudC5zZXRDdXN0b21WYWxpZGl0eShpbnB1dEVsZW1lbnQuZGF0YXNldC5lcnJvck1lc3NhZ2UgfHwgJycpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBpbnB1dEVsZW1lbnQuc2V0Q3VzdG9tVmFsaWRpdHkoJycpO1xyXG4gIH1cclxuICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgc2hvd0lucHV0RXJyb3IoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlLCB2YWxpZGF0aW9uQ29uZmlnKTtcclxuICB9IGVsc2Uge1xyXG4gICAgaGlkZUlucHV0RXJyb3IoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgdmFsaWRhdGlvbkNvbmZpZyk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRFdmVudExpc3RlbmVycyhcclxuICBmb3JtRWxlbWVudDogSFRNTEZvcm1FbGVtZW50LFxyXG4gIHZhbGlkYXRpb25Db25maWc6IFZhbGlkYXRpb25Db25maWdcclxuKTogdm9pZCB7XHJcbiAgY29uc3QgaW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcclxuICAgIGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodmFsaWRhdGlvbkNvbmZpZy5pbnB1dFNlbGVjdG9yKVxyXG4gICkgYXMgSFRNTElucHV0RWxlbWVudFtdO1xyXG4gIGNvbnN0IGJ1dHRvbiA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IodmFsaWRhdGlvbkNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3RvcikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcbiAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xyXG4gICAgICBpc1ZhbGlkKGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQsIHZhbGlkYXRpb25Db25maWcpO1xyXG4gICAgICBkaXNhYmxlZEJ1dHRvbihpbnB1dExpc3QsIGJ1dHRvbiwgdmFsaWRhdGlvbkNvbmZpZyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gZGlzYWJsZWRCdXR0b24oXHJcbiAgaW5wdXRMaXN0OiBIVE1MSW5wdXRFbGVtZW50W10sXHJcbiAgYnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudCxcclxuICB2YWxpZGF0aW9uQ29uZmlnOiBWYWxpZGF0aW9uQ29uZmlnXHJcbik6IHZvaWQge1xyXG4gIGlmIChjaGVja1ZhbGlkKGlucHV0TGlzdCkpIHtcclxuICAgIGJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICBidXR0b24uY2xhc3NMaXN0LmFkZCh2YWxpZGF0aW9uQ29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBidXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHZhbGlkYXRpb25Db25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJWYWxpZGF0aW9uKFxyXG4gIGZvcm1FbGVtZW50OiBIVE1MRm9ybUVsZW1lbnQsXHJcbiAgdmFsaWRhdGlvbkNvbmZpZzogVmFsaWRhdGlvbkNvbmZpZ1xyXG4pOiB2b2lkIHtcclxuICBjb25zdCBpbnB1dExpc3QgPSBBcnJheS5mcm9tKFxyXG4gICAgZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh2YWxpZGF0aW9uQ29uZmlnLmlucHV0U2VsZWN0b3IpXHJcbiAgKSBhcyBIVE1MSW5wdXRFbGVtZW50W107XHJcbiAgY29uc3QgYnV0dG9uID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcih2YWxpZGF0aW9uQ29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcclxuICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgIGhpZGVJbnB1dEVycm9yKGZvcm1FbGVtZW50LCBpbnB1dCwgdmFsaWRhdGlvbkNvbmZpZyk7XHJcbiAgfSk7XHJcbiAgZGlzYWJsZWRCdXR0b24oaW5wdXRMaXN0LCBidXR0b24sIHZhbGlkYXRpb25Db25maWcpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZW5hYmxlVmFsaWRhdGlvbih2YWxpZGF0aW9uQ29uZmlnOiBWYWxpZGF0aW9uQ29uZmlnKTogdm9pZCB7XHJcbiAgY29uc3QgZm9ybUxpc3QgPSBBcnJheS5mcm9tKFxyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh2YWxpZGF0aW9uQ29uZmlnLmZvcm1TZWxlY3RvcilcclxuICApIGFzIEhUTUxGb3JtRWxlbWVudFtdO1xyXG4gIGZvcm1MaXN0LmZvckVhY2goKGZvcm1FbGVtZW50KSA9PiB7XHJcbiAgICBzZXRFdmVudExpc3RlbmVycyhmb3JtRWxlbWVudCwgdmFsaWRhdGlvbkNvbmZpZyk7XHJcbiAgfSk7XHJcbn0iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiaW1wb3J0ICcuL3N0eWxlcy9pbmRleC5jc3MnO1xyXG5pbXBvcnQgeyBjcmVhdGVDYXJkLCBoYW5kbGVMaWtlIH0gZnJvbSAnLi9jb21wb25lbnRzL2NhcmQnO1xyXG5pbXBvcnQgeyBnZXRJbmZvLCBnZXRDYXJkcywgZGVsZXRlQ2FyZHMsIHRvQ2hhbmdlQXZhdGFyLCB0b0NoYW5nZU5hbWVzLCBhZGRDYXJkc30gZnJvbSAnLi9jb21wb25lbnRzL2FwaSc7XHJcbmltcG9ydCB7IGNsb3NlTW9kYWwsIG9wZW5Nb2RhbCB9IGZyb20gJy4vY29tcG9uZW50cy9tb2RhbCc7XHJcbmltcG9ydCB7IGNsZWFyVmFsaWRhdGlvbiwgZW5hYmxlVmFsaWRhdGlvbiB9IGZyb20gJy4vY29tcG9uZW50cy92YWxpZGF0aW9uJztcclxuXHJcbmludGVyZmFjZSBVc2VyIHtcclxuICBfaWQ6IHN0cmluZztcclxuICBuYW1lOiBzdHJpbmc7XHJcbiAgYWJvdXQ6IHN0cmluZztcclxuICBhdmF0YXI6IHN0cmluZztcclxufVxyXG5cclxuaW50ZXJmYWNlIENhcmQge1xyXG4gIF9pZDogc3RyaW5nO1xyXG4gIG5hbWU6IHN0cmluZztcclxuICBsaW5rOiBzdHJpbmc7XHJcbiAgbGlrZXM6IHsgX2lkOiBzdHJpbmcgfVtdO1xyXG4gIG93bmVyPzogeyBfaWQ6IHN0cmluZyB9O1xyXG59XHJcblxyXG4vLyB2YXJpYWJsZSBuYW1lc1xyXG5jb25zdCBjYXJkQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MRGl2RWxlbWVudD4oJy5wbGFjZXNfX2xpc3QnKSE7XHJcbmNvbnN0IHByb2ZpbGVFZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MQnV0dG9uRWxlbWVudD4oJy5wcm9maWxlX19lZGl0LWJ1dHRvbicpITtcclxuY29uc3QgcHJvZmlsZUJ1dHRvbkFkZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTEJ1dHRvbkVsZW1lbnQ+KCcucHJvZmlsZV9fYWRkLWJ1dHRvbicpITtcclxuY29uc3QgcHJvZmlsZUltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MRGl2RWxlbWVudD4oJy5wcm9maWxlX19pbWFnZScpITtcclxuY29uc3QgYXZhdGFyUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxGb3JtRWxlbWVudD4oJy5wb3B1cF9fYXZhdGFyJykhO1xyXG5jb25zdCBpbnB1dExpbmtBdmF0YXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGluay1hdmF0YXItaW5wdXQnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG5jb25zdCBwb3B1cERlbGV0ZUNhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxEaXZFbGVtZW50PignLnBvcHVwX2RlbGV0ZS1pbWFnZScpITtcclxuY29uc3QgcG9wdXBEZWxldGVDYXJkQnV0dG9uID0gcG9wdXBEZWxldGVDYXJkLnF1ZXJ5U2VsZWN0b3I8SFRNTEJ1dHRvbkVsZW1lbnQ+KCcucG9wdXBfX2J1dHRvbicpITtcclxuY29uc3QgcG9wdXBCdXR0b24gPSBhdmF0YXJQb3B1cC5xdWVyeVNlbGVjdG9yPEhUTUxCdXR0b25FbGVtZW50PignLnBvcHVwX19idXR0b24nKSE7XHJcbmNvbnN0IG5ld0NhcmRQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTEZvcm1FbGVtZW50PignLnBvcHVwX3R5cGVfbmV3LWNhcmQnKSE7XHJcbmNvbnN0IGltYWdlT3BlblBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MRGl2RWxlbWVudD4oJy5wb3B1cF90eXBlX2ltYWdlJykhO1xyXG5jb25zdCBpbWFnZVBvcHVwSW1hZ2UgPSBpbWFnZU9wZW5Qb3B1cC5xdWVyeVNlbGVjdG9yPEhUTUxJbWFnZUVsZW1lbnQ+KCcucG9wdXBfX2ltYWdlJykhO1xyXG5jb25zdCBpbWFnZVBvcHVwQ2FwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTFBhcmFncmFwaEVsZW1lbnQ+KCcucG9wdXBfX2NhcHRpb24nKSE7XHJcbmNvbnN0IHByb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MSGVhZGluZ0VsZW1lbnQ+KCcucHJvZmlsZV9fdGl0bGUnKSE7XHJcbmNvbnN0IHByb2ZpbGVEZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTFBhcmFncmFwaEVsZW1lbnQ+KCcucHJvZmlsZV9fZGVzY3JpcHRpb24nKSE7XHJcbmNvbnN0IHBvcHVwUHJvZmlsZUVkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxGb3JtRWxlbWVudD4oJy5wb3B1cF90eXBlX2VkaXQnKSE7XHJcbmNvbnN0IHBvcHVwUHJvZmlsZUJ1dHRvbiA9IHBvcHVwUHJvZmlsZUVkaXQucXVlcnlTZWxlY3RvcjxIVE1MQnV0dG9uRWxlbWVudD4oJy5wb3B1cF9fYnV0dG9uJykhO1xyXG5jb25zdCBmb3JtUHJvZmlsZUVkaXQgPSBwb3B1cFByb2ZpbGVFZGl0LnF1ZXJ5U2VsZWN0b3I8SFRNTEZvcm1FbGVtZW50PignLnBvcHVwX19mb3JtJykhO1xyXG5jb25zdCBpbnB1dE5hbWUgPSBmb3JtUHJvZmlsZUVkaXQucXVlcnlTZWxlY3RvcjxIVE1MSW5wdXRFbGVtZW50PignLnBvcHVwX19pbnB1dF90eXBlX25hbWUnKSE7XHJcbmNvbnN0IGlucHV0RGVzY3JpcHRpb24gPSBmb3JtUHJvZmlsZUVkaXQucXVlcnlTZWxlY3RvcjxIVE1MSW5wdXRFbGVtZW50PignLnBvcHVwX19pbnB1dF90eXBlX2Rlc2NyaXB0aW9uJykhO1xyXG5jb25zdCBhbGxQb3B1cHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsPEhUTUxEaXZFbGVtZW50PignLnBvcHVwJyk7XHJcbmNvbnN0IGNhcmRCdXR0b24gPSBuZXdDYXJkUG9wdXAucXVlcnlTZWxlY3RvcjxIVE1MQnV0dG9uRWxlbWVudD4oJy5wb3B1cF9fYnV0dG9uJykhO1xyXG5jb25zdCBpbnB1dFBsYWNlTmFtZUZvcm1BZGROZXdDYXJkID0gbmV3Q2FyZFBvcHVwLnF1ZXJ5U2VsZWN0b3I8SFRNTElucHV0RWxlbWVudD4oJy5wb3B1cF9faW5wdXRfdHlwZV9jYXJkLW5hbWUnKSE7XHJcbmNvbnN0IGlucHV0UGxhY2VMaW5rRm9ybUFkZE5ld0NhcmQgPSBuZXdDYXJkUG9wdXAucXVlcnlTZWxlY3RvcjxIVE1MSW5wdXRFbGVtZW50PignLnBvcHVwX19pbnB1dF90eXBlX3VybCcpITtcclxuXHJcbmNvbnN0IHZhbGlkYXRpb25Db25maWcgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiAnLnBvcHVwX19mb3JtJyxcclxuICBpbnB1dFNlbGVjdG9yOiAnLnBvcHVwX19pbnB1dCcsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcucG9wdXBfX2J1dHRvbicsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogJ3BvcHVwX19idXR0b25fZGlzYWJsZWQnLFxyXG4gIGlucHV0RXJyb3JDbGFzczogJ3BvcHVwX19pbnB1dF90eXBlX2Vycm9yJyxcclxuICBlcnJvckNsYXNzOiAncG9wdXBfX2Vycm9yX3Zpc2libGUnXHJcbn1cclxuXHJcbmFsbFBvcHVwcy5mb3JFYWNoKChvdXQpID0+IHtcclxuICBvdXQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsICh7IHRhcmdldCwgY3VycmVudFRhcmdldCB9KSA9PiB7IFxyXG4gICAgY29uc3QgaXNUYXJnZXRDbG9zZUJ1dHRvbiA9ICh0YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmNsYXNzTGlzdC5jb250YWlucygncG9wdXBfX2Nsb3NlJyk7XHJcbiAgICBjb25zdCBpc1RhcmdldE92ZXJsYXkgPSB0YXJnZXQgPT09IGN1cnJlbnRUYXJnZXQ7XHJcbiAgICBpZiAoaXNUYXJnZXRDbG9zZUJ1dHRvbiB8fCBpc1RhcmdldE92ZXJsYXkpIGNsb3NlTW9kYWwob3V0KTtcclxuICB9KTtcclxufSk7XHJcblxyXG5Qcm9taXNlLmFsbChbZ2V0SW5mbyhcIi91c2Vycy9tZVwiKSwgZ2V0Q2FyZHMoXCIvY2FyZHNcIildKVxyXG4gIC50aGVuKChbY3VycmVudFVzZXIsIGNhcmRzXTogW1VzZXIsIENhcmRbXV0pID0+IHtcclxuICAgIHByb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gY3VycmVudFVzZXIubmFtZTtcclxuICAgIHByb2ZpbGVEZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IGN1cnJlbnRVc2VyLmFib3V0O1xyXG4gICAgcHJvZmlsZUltYWdlLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1cmwoJyR7Y3VycmVudFVzZXIuYXZhdGFyfScpYDtcclxuICAgIGNvbnNvbGUubG9nKFwiQ3VycmVudCB1c2VyIElEOlwiLCBjdXJyZW50VXNlci5faWQpO1xyXG4gICAgY2FyZHMuZm9yRWFjaChjYXJkID0+IGNhcmRDb250YWluZXIuYXBwZW5kKGNyZWF0ZUNhcmQoY2FyZCwgcmVtb3ZlQ2FyZCwgb3BlbkltZywgaGFuZGxlTGlrZSwgY3VycmVudFVzZXIuX2lkKSkpO1xyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnIpID0+IFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtlcnIuc3RhdHVzfWApKTtcclxuXHJcbmZ1bmN0aW9uIGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0KGV2dDogRXZlbnQpOiB2b2lkIHtcclxuICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICBzYXZlSW5mbyh0cnVlLCBwb3B1cFByb2ZpbGVCdXR0b24pO1xyXG4gIHRvQ2hhbmdlTmFtZXMoaW5wdXROYW1lLnZhbHVlLCBpbnB1dERlc2NyaXB0aW9uLnZhbHVlKVxyXG4gICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICBwcm9maWxlTmFtZS50ZXh0Q29udGVudCA9IHJlcy5uYW1lO1xyXG4gICAgICBwcm9maWxlRGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSByZXMuYWJvdXQ7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKVxyXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICBzYXZlSW5mbyhmYWxzZSwgcG9wdXBQcm9maWxlQnV0dG9uKTtcclxuICAgICAgY2xvc2VNb2RhbChwb3B1cFByb2ZpbGVFZGl0KTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gaGFuZGxlQXZhdGFyU3VibWl0KGV2dDogRXZlbnQpOiB2b2lkIHtcclxuICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICBzYXZlSW5mbyh0cnVlLCBwb3B1cEJ1dHRvbik7XHJcbiAgdG9DaGFuZ2VBdmF0YXIoaW5wdXRMaW5rQXZhdGFyLnZhbHVlKVxyXG4gICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICBwcm9maWxlSW1hZ2Uuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgnJHtyZXMuYXZhdGFyfScpYDtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSlcclxuICAgIC5maW5hbGx5KCgpID0+IHsgXHJcbiAgICAgIHNhdmVJbmZvKGZhbHNlLCBwb3B1cEJ1dHRvbik7XHJcbiAgICAgIGNsb3NlTW9kYWwoYXZhdGFyUG9wdXApO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUNhcmRTdWJtaXQoZXZ0OiBFdmVudCk6IHZvaWQge1xyXG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIHNhdmVJbmZvKHRydWUsIGNhcmRCdXR0b24pO1xyXG4gIGFkZENhcmRzKGlucHV0UGxhY2VOYW1lRm9ybUFkZE5ld0NhcmQudmFsdWUsIGlucHV0UGxhY2VMaW5rRm9ybUFkZE5ld0NhcmQudmFsdWUpXHJcbiAgICAudGhlbigoY2FyZCkgPT4ge1xyXG4gICAgICBjYXJkQ29udGFpbmVyLmFwcGVuZChjcmVhdGVDYXJkKGNhcmQsIHJlbW92ZUNhcmQsIG9wZW5JbWcsIGhhbmRsZUxpa2UsIGNhcmQub3duZXI/Ll9pZCEpKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpXHJcbiAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgIHNhdmVJbmZvKGZhbHNlLCBjYXJkQnV0dG9uKTtcclxuICAgICAgY2xvc2VNb2RhbChuZXdDYXJkUG9wdXApO1xyXG4gICAgfSk7XHJcbiAgKG5ld0NhcmRQb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKSBhcyBIVE1MRm9ybUVsZW1lbnQpLnJlc2V0KCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZUNhcmQoZXZ0OiBFdmVudCk6IHZvaWQge1xyXG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIHNhdmVJbmZvKHRydWUsIHBvcHVwRGVsZXRlQ2FyZEJ1dHRvbik7XHJcbiAgY29uc3QgY2FyZElEID0gcG9wdXBEZWxldGVDYXJkQnV0dG9uLmRhdGFzZXQuY2FyZElkITtcclxuICBkZWxldGVDYXJkcyhjYXJkSUQpXHJcbiAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGRlbGV0ZUNhcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjYXJkSUQpO1xyXG4gICAgICBpZiAoZGVsZXRlQ2FyZCkge1xyXG4gICAgICAgIGRlbGV0ZUNhcmQucmVtb3ZlKCk7XHJcbiAgICAgICAgcG9wdXBEZWxldGVDYXJkQnV0dG9uLmRhdGFzZXQuY2FyZElkID0gJyc7XHJcbiAgICAgICAgc2F2ZUluZm8oZmFsc2UsIHBvcHVwRGVsZXRlQ2FyZEJ1dHRvbik7XHJcbiAgICAgICAgY2xvc2VNb2RhbChwb3B1cERlbGV0ZUNhcmQpO1xyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVtb3ZlQ2FyZChjYXJkOiBDYXJkKTogdm9pZCB7XHJcbiAgb3Blbk1vZGFsKHBvcHVwRGVsZXRlQ2FyZCk7XHJcbiAgcG9wdXBEZWxldGVDYXJkQnV0dG9uLmRhdGFzZXQuY2FyZElkID0gY2FyZC5faWQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG9wZW5JbWcoZGF0YTogQ2FyZCk6IHZvaWQge1xyXG4gIGltYWdlUG9wdXBJbWFnZS5hbHQgPSBkYXRhLm5hbWU7XHJcbiAgaW1hZ2VQb3B1cENhcHRpb24udGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XHJcbiAgaW1hZ2VQb3B1cEltYWdlLnNyYyA9IGRhdGEubGluaztcclxuICBvcGVuTW9kYWwoaW1hZ2VPcGVuUG9wdXApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzYXZlSW5mbyhsb2FkOiBib29sZWFuLCBidXR0b246IEhUTUxCdXR0b25FbGVtZW50KTogdm9pZCB7XHJcbiAgaWYgKGxvYWQpIHtcclxuICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9ICfQodC+0YXRgNCw0L3QtdC90LjQtS4uLic7XHJcbiAgfSBlbHNlIHtcclxuICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9IGJ1dHRvbi5kYXRhc2V0LmJ1dHRvblRleHQhO1xyXG4gIH1cclxufVxyXG5cclxucHJvZmlsZUVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgaW5wdXROYW1lLnZhbHVlID0gcHJvZmlsZU5hbWUudGV4dENvbnRlbnQhO1xyXG4gIGlucHV0RGVzY3JpcHRpb24udmFsdWUgPSBwcm9maWxlRGVzY3JpcHRpb24udGV4dENvbnRlbnQhO1xyXG4gIGNsZWFyVmFsaWRhdGlvbihwb3B1cFByb2ZpbGVFZGl0LCB2YWxpZGF0aW9uQ29uZmlnKTtcclxuICBvcGVuTW9kYWwocG9wdXBQcm9maWxlRWRpdCk7XHJcbn0pO1xyXG5cclxucHJvZmlsZUJ1dHRvbkFkZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICBjbGVhclZhbGlkYXRpb24obmV3Q2FyZFBvcHVwLCB2YWxpZGF0aW9uQ29uZmlnKTtcclxuICBvcGVuTW9kYWwobmV3Q2FyZFBvcHVwKTtcclxufSk7XHJcblxyXG5wcm9maWxlSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgaW5wdXRMaW5rQXZhdGFyLnZhbHVlID0gJyc7XHJcbiAgY2xlYXJWYWxpZGF0aW9uKGF2YXRhclBvcHVwLCB2YWxpZGF0aW9uQ29uZmlnKTtcclxuICBvcGVuTW9kYWwoYXZhdGFyUG9wdXApO1xyXG59KTtcclxuXHJcbm5ld0NhcmRQb3B1cC5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBoYW5kbGVDYXJkU3VibWl0KTtcclxuZm9ybVByb2ZpbGVFZGl0LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0KTtcclxuYXZhdGFyUG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgaGFuZGxlQXZhdGFyU3VibWl0KTtcclxucG9wdXBEZWxldGVDYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlRGVsZXRlQ2FyZCk7XHJcblxyXG5lbmFibGVWYWxpZGF0aW9uKHZhbGlkYXRpb25Db25maWcpOyJdLCJuYW1lcyI6WyJkYXRhIiwicmVzcG9uc2UiLCJmZXRjaCIsImNvbmZpZyIsImJhc2VVcmwiLCJtZXRob2QiLCJoZWFkZXJzIiwianNvbiIsImVyciIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJpbnB1dE5hbWUiLCJpbnB1dERlc2NyaXB0aW9uIiwicG9zdCIsIm5hbWUiLCJhYm91dCIsImF2YXRhckxpbmsiLCJhdmF0YXIiLCJkYXRhTmFtZSIsImRhdGFMaW5rIiwibGluayIsImNhcmRJZCIsIl9pZCIsImF1dGhvcml6YXRpb24iLCJ1cmwiLCJ1c2VySUQiLCJBdXRob3JpemF0aW9uIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJvayIsIkVycm9yIiwibWVzc2FnZSIsInJlbW92ZUNhcmQiLCJvcGVuSW1nIiwiaGFuZGxlTGlrZSIsIklEIiwiY2FyZEVsZW1lbnQiLCJjYXJkVGVtcGxhdGUiLCJjbG9uZU5vZGUiLCJjYXJkRGVsZXRlQnV0dG9uIiwicXVlcnlTZWxlY3RvciIsImNhcmRJbWFnZSIsImNhcmRUaXRsZSIsImNhcmRMaWtlQnV0dG9uIiwiY2FyZExpa2VDb3VudCIsInNyYyIsImFsdCIsInRleHRDb250ZW50IiwibGlrZXMiLCJsZW5ndGgiLCJ0b1N0cmluZyIsImFkZEV2ZW50TGlzdGVuZXIiLCJpZCIsIm93bmVyIiwicmVtb3ZlIiwiY2hlY2siLCJjbGFzc0xpc3QiLCJhZGQiLCJjYXJkIiwiYnV0dG9uTGlrZSIsImJ1dHRvbkNvdW50IiwiZGVsZXRlTGlrZSIsInRoZW4iLCJyZXMiLCJoYW5kbGVMaWtlU3VjY2VzcyIsImNhdGNoIiwiaGFuZGxlTGlrZUVycm9yIiwiYWRkTGlrZSIsImRvY3VtZW50IiwiY29udGVudCIsInRvZ2dsZSIsImNvbnNvbGUiLCJlcnJvciIsInNvbWUiLCJsaWtlIiwiY2xvc2VNb2RhbCIsInBvcHVwIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNsb3NlRXNjIiwiZXZ0IiwiY29kZSIsIm9wZW5lZFBvcHVwIiwib3Blbk1vZGFsIiwiZm9ybUVsZW1lbnQiLCJ2YWxpZGF0aW9uQ29uZmlnIiwiaW5wdXRMaXN0IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0U2VsZWN0b3IiLCJidXR0b24iLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImZvckVhY2giLCJpbnB1dCIsImhpZGVJbnB1dEVycm9yIiwiZGlzYWJsZWRCdXR0b24iLCJmb3JtU2VsZWN0b3IiLCJpbnB1dEVsZW1lbnQiLCJ2YWxpZGl0eSIsInBhdHRlcm5NaXNtYXRjaCIsInNldEN1c3RvbVZhbGlkaXR5IiwiZGF0YXNldCIsImVycm9yTWVzc2FnZSIsInZhbGlkIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsImVycm9yRWxlbWVudCIsInNob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJpc1ZhbGlkIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJjaGVja1ZhbGlkIiwiZGlzYWJsZWQiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJjYWxsIiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsImNhcmRDb250YWluZXIiLCJwcm9maWxlRWRpdEJ1dHRvbiIsInByb2ZpbGVCdXR0b25BZGQiLCJwcm9maWxlSW1hZ2UiLCJhdmF0YXJQb3B1cCIsImlucHV0TGlua0F2YXRhciIsImdldEVsZW1lbnRCeUlkIiwicG9wdXBEZWxldGVDYXJkIiwicG9wdXBEZWxldGVDYXJkQnV0dG9uIiwicG9wdXBCdXR0b24iLCJuZXdDYXJkUG9wdXAiLCJpbWFnZU9wZW5Qb3B1cCIsImltYWdlUG9wdXBJbWFnZSIsImltYWdlUG9wdXBDYXB0aW9uIiwicHJvZmlsZU5hbWUiLCJwcm9maWxlRGVzY3JpcHRpb24iLCJwb3B1cFByb2ZpbGVFZGl0IiwicG9wdXBQcm9maWxlQnV0dG9uIiwiZm9ybVByb2ZpbGVFZGl0IiwiYWxsUG9wdXBzIiwiY2FyZEJ1dHRvbiIsImlucHV0UGxhY2VOYW1lRm9ybUFkZE5ld0NhcmQiLCJpbnB1dFBsYWNlTGlua0Zvcm1BZGROZXdDYXJkIiwic2F2ZUluZm8iLCJsb2FkIiwiYnV0dG9uVGV4dCIsIm91dCIsInRhcmdldCIsImN1cnJlbnRUYXJnZXQiLCJjb250YWlucyIsImFsbCIsImdldEluZm8iLCJnZXRDYXJkcyIsImN1cnJlbnRVc2VyIiwiY2FyZHMiLCJzdHlsZSIsImJhY2tncm91bmRJbWFnZSIsImxvZyIsImFwcGVuZCIsImNyZWF0ZUNhcmQiLCJjbGVhclZhbGlkYXRpb24iLCJwcmV2ZW50RGVmYXVsdCIsImFkZENhcmRzIiwiZmluYWxseSIsInJlc2V0IiwidG9DaGFuZ2VOYW1lcyIsInRvQ2hhbmdlQXZhdGFyIiwiY2FyZElEIiwiZGVsZXRlQ2FyZHMiLCJkZWxldGVDYXJkIiwiZW5hYmxlVmFsaWRhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=