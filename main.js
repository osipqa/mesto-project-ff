(()=>{"use strict";var e=document.querySelector("#card-template").content.querySelector(".places__item");function t(t,n,r,o){var c=e.cloneNode(!0),p=c.querySelector(".card__image");return c.querySelector(".card__title").textContent=t.name,p.src=t.link,p.alt=t.name,p.addEventListener("click",(function(){return r(t)})),c.querySelector(".card__delete-button").addEventListener("click",n),c.querySelector(".card__like-button").addEventListener("click",o),c}function n(e){e.target.closest(".card").remove()}function r(e){e.target.classList.toggle("card__like-button_is-active")}function o(e){e.classList.add("popup_is-opened"),document.addEventListener("keydown",p)}function c(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",p)}function p(e){"Escape"===e.code&&c(document.querySelector(".popup_is-opened"))}var u=document.querySelector(".places__list"),a=document.querySelector(".profile__edit-button"),d=document.querySelector(".profile__add-button"),i=document.querySelector(".popup_type_new-card"),s=document.querySelector(".popup_type_image"),l=s.querySelector(".popup__image"),_=document.querySelector(".popup__caption"),m=document.querySelector(".profile__title"),y=document.querySelector(".profile__description"),v=document.querySelector(".popup_type_edit"),f=v.querySelector(".popup__form"),k=f.querySelector(".popup__input_type_name"),q=f.querySelector(".popup__input_type_description"),S=document.querySelectorAll(".popup"),g=i.querySelector(".popup__input_type_card-name"),L=i.querySelector(".popup__input_type_url");function E(e){l.alt=e.name,_.textContent=e.name,l.src=e.link,o(s)}S.forEach((function(e){e.addEventListener("mouseup",(function(t){var n=t.target,r=t.currentTarget;(n.classList.contains("popup__close")||n===r)&&c(e)}))})),[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){return u.append(t(e,n,E,r))})),a.addEventListener("click",(function(){k.value=m.textContent,q.value=y.textContent,o(v)})),d.addEventListener("click",(function(){o(i)})),i.addEventListener("submit",(function(e){e.preventDefault();var o=t({name:g.value,link:L.value},n,E,r);u.prepend(o),c(i),i.querySelector(".popup__form").reset()})),f.addEventListener("submit",(function(e){e.preventDefault(),m.textContent=k.value,y.textContent=q.value,c(v)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFRZixFQUFtQjNCLFlBQzVDWSxFQUFVZ0IsRUFDWixJQUVBUCxFQUFpQmhCLGlCQUFpQixTQUFTLFdBQ3pDTyxFQUFVVSxFQUNaLElBRUFBLEVBQWFqQixpQkFBaUIsVUFoQzlCLFNBQTBCQyxHQUN4QkEsRUFBSXFDLGlCQUNKLElBTU1DLEVBQVVwRCxFQUpILENBQ1hTLEtBSGdCaUMsRUFBNkJRLE1BSTdDdkMsS0FIZ0JnQyxFQUE2Qk8sT0FLZGhELEVBQVlDLEVBQVNDLEdBQ3REdUIsRUFBYzBCLFFBQVFELEdBQ3RCNUIsRUFBV00sR0FDWEEsRUFBYWhDLGNBQWMsZ0JBQWdCd0QsT0FDN0MsSUFxQkFqQixFQUFnQnhCLGlCQUFpQixVQXhDakMsU0FBaUNDLEdBQy9CQSxFQUFJcUMsaUJBQ0pqQixFQUFZMUIsWUFBYzhCLEVBQVVZLE1BQ3BDZixFQUFtQjNCLFlBQWMrQixFQUFpQlcsTUFDbEQxQixFQUFXWSxFQUNiLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by1wcm9qZWN0LWZmLy4vc3JjL2NvbXBvbmVudHMvY2FyZHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8tcHJvamVjdC1mZi8uL3NyYy9jb21wb25lbnRzL2NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8tcHJvamVjdC1mZi8uL3NyYy9jb21wb25lbnRzL21vZGFsLmpzIiwid2VicGFjazovL21lc3RvLXByb2plY3QtZmYvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuICAgIHtcclxuICAgICAgbmFtZTogJ9CQ0YDRhdGL0LcnLFxyXG4gICAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2Fya2h5ei5qcGcnLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgbmFtZTogJ9Cn0LXQu9GP0LHQuNC90YHQutCw0Y8g0L7QsdC70LDRgdGC0YwnLFxyXG4gICAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2NoZWx5YWJpbnNrLW9ibGFzdC5qcGcnLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgbmFtZTogJ9CY0LLQsNC90L7QstC+JyxcclxuICAgICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9pdmFub3ZvLmpwZycsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBuYW1lOiAn0JrQsNC80YfQsNGC0LrQsCcsXHJcbiAgICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQva2FtY2hhdGthLmpwZycsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBuYW1lOiAn0KXQvtC70LzQvtCz0L7RgNGB0LrQuNC5INGA0LDQudC+0L0nLFxyXG4gICAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2tob2xtb2dvcnNreS1yYXlvbi5qcGcnLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgbmFtZTogJ9CR0LDQudC60LDQuycsXHJcbiAgICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvYmFpa2FsLmpwZycsXHJcbiAgICB9LFxyXG5dOyIsImV4cG9ydCB7IGNyZWF0ZUNhcmQsIGRlbGV0ZUNhcmQsIGhhbmRsZUxpa2UgfTtcclxuXHJcbmNvbnN0IGNhcmRUZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjYXJkLXRlbXBsYXRlJykuY29udGVudC5xdWVyeVNlbGVjdG9yKCcucGxhY2VzX19pdGVtJyk7XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVDYXJkKGRhdGEsIGRlbGV0ZUNhcmQsIG9wZW5JbWcsIGhhbmRsZUxpa2UpIHtcclxuICBjb25zdCBjYXJkID0gY2FyZFRlbXBsYXRlLmNsb25lTm9kZSh0cnVlKTtcclxuICBjb25zdCBjYXJkSW1nID0gY2FyZC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9faW1hZ2UnKTtcclxuICBjb25zdCBjYXJkVGl0bGUgPSBjYXJkLnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX190aXRsZScpO1xyXG4gIGNhcmRUaXRsZS50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcclxuICBjYXJkSW1nLnNyYyA9IGRhdGEubGluaztcclxuICBjYXJkSW1nLmFsdCA9IGRhdGEubmFtZTtcclxuICBjYXJkSW1nLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gb3BlbkltZyhkYXRhKSk7XHJcbiAgY2FyZC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fZGVsZXRlLWJ1dHRvbicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZGVsZXRlQ2FyZCk7XHJcbiAgY2FyZC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fbGlrZS1idXR0b24nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUxpa2UpO1xyXG4gIHJldHVybiBjYXJkO1xyXG59XHJcblxyXG5mdW5jdGlvbiBkZWxldGVDYXJkKGV2dCkge1xyXG4gIGNvbnN0IGRlbENhcmQgPSBldnQudGFyZ2V0LmNsb3Nlc3QoJy5jYXJkJyk7XHJcbiAgZGVsQ2FyZC5yZW1vdmUoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlTGlrZShldnQpIHtcclxuICBldnQudGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoJ2NhcmRfX2xpa2UtYnV0dG9uX2lzLWFjdGl2ZScpOyAvLyBXaGVuIGNsaWNrZWQsIHRoZSBjb2xvciBvZiB0aGUgbGlrZSB3aWxsIGNoYW5nZVxyXG59IiwiZXhwb3J0IHsgb3Blbk1vZGFsLCBjbG9zZU1vZGFsIH07XHJcblxyXG5mdW5jdGlvbiBvcGVuTW9kYWwocG9wdXApIHtcclxuICBwb3B1cC5jbGFzc0xpc3QuYWRkKCdwb3B1cF9pcy1vcGVuZWQnKTtcclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgY2xvc2VFc2MpOyAvLyBJZiBkb24ndCByZW1vdmUgdGhlIGV2ZW50bGlzdGVuZXIgZnJvbSBjbG9zZU1vZGFsLCBhbiBlcnJvciB3aWxsIG9jY3VyLlxyXG59XHJcblxyXG5mdW5jdGlvbiBjbG9zZU1vZGFsKHBvcHVwKSB7IC8vIFdpdGhvdXQgJ3NldFRpbWVvdXQnLCBpdCBiZWNhbWUgcmVhbGx5IHNhZCBoZXJlLiA6Y1xyXG4gIHBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX2lzLW9wZW5lZCcpO1xyXG4gIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBjbG9zZUVzYyk7IC8vIFwiVGhpcyBwaWVjZSBvZiBjb2RlIGZpeGVzIHRoYXQuXCJcclxufVxyXG5cclxuZnVuY3Rpb24gY2xvc2VFc2MoZXZ0KSB7XHJcbiAgZXZ0LmNvZGUgPT09ICdFc2NhcGUnICYmIGNsb3NlTW9kYWwoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX2lzLW9wZW5lZCcpKTtcclxufSIsImltcG9ydCAnLi9zdHlsZXMvaW5kZXguY3NzJztcclxuaW1wb3J0IHsgaW5pdGlhbENhcmRzIH0gZnJvbSAnLi9jb21wb25lbnRzL2NhcmRzLmpzJztcclxuaW1wb3J0IHsgY3JlYXRlQ2FyZCwgZGVsZXRlQ2FyZCwgaGFuZGxlTGlrZX0gZnJvbSAnLi9jb21wb25lbnRzL2NhcmQuanMnO1xyXG5pbXBvcnQgeyBvcGVuTW9kYWwsIGNsb3NlTW9kYWwgfSBmcm9tICcuL2NvbXBvbmVudHMvbW9kYWwuanMnO1xyXG4gXHJcbi8vIHZhcmlhYmxlIG5hbWVzXHJcbmNvbnN0IGNhcmRDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGxhY2VzX19saXN0Jyk7XHJcbmNvbnN0IHByb2ZpbGVFZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQtYnV0dG9uJyk7XHJcbmNvbnN0IHByb2ZpbGVCdXR0b25BZGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYWRkLWJ1dHRvbicpO1xyXG5jb25zdCBuZXdDYXJkUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfdHlwZV9uZXctY2FyZCcpO1xyXG5jb25zdCBpbWFnZU9wZW5Qb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF90eXBlX2ltYWdlJyk7XHJcbmNvbnN0IGltYWdlUG9wdXBJbWFnZSA9IGltYWdlT3BlblBvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW1hZ2UnKTtcclxuY29uc3QgaW1hZ2VQb3B1cENhcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2NhcHRpb24nKVxyXG5jb25zdCBwcm9maWxlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX190aXRsZScpO1xyXG5jb25zdCBwcm9maWxlRGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fZGVzY3JpcHRpb24nKTtcclxuY29uc3QgcG9wdXBQcm9maWxlRWRpdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF90eXBlX2VkaXQnKTtcclxuY29uc3QgZm9ybVByb2ZpbGVFZGl0ID0gcG9wdXBQcm9maWxlRWRpdC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKTtcclxuY29uc3QgaW5wdXROYW1lID0gZm9ybVByb2ZpbGVFZGl0LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfdHlwZV9uYW1lJyk7XHJcbmNvbnN0IGlucHV0RGVzY3JpcHRpb24gPSBmb3JtUHJvZmlsZUVkaXQucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dF90eXBlX2Rlc2NyaXB0aW9uJyk7XHJcbmNvbnN0IGFsbFBvcHVwcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cCcpO1xyXG5jb25zdCBpbnB1dFBsYWNlTmFtZUZvcm1BZGROZXdDYXJkID0gbmV3Q2FyZFBvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfdHlwZV9jYXJkLW5hbWUnKTtcclxuY29uc3QgaW5wdXRQbGFjZUxpbmtGb3JtQWRkTmV3Q2FyZCA9IG5ld0NhcmRQb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lucHV0X3R5cGVfdXJsJyk7XHJcblxyXG4vLyBmdW5jdGlvbnNcclxuZnVuY3Rpb24gcmVsZWFzZUNhcmQoKSB7XHJcbiAgaW5pdGlhbENhcmRzLmZvckVhY2goY2FyZCA9PiBjYXJkQ29udGFpbmVyLmFwcGVuZChjcmVhdGVDYXJkKGNhcmQsIGRlbGV0ZUNhcmQsIG9wZW5JbWcsIGhhbmRsZUxpa2UpKSk7XHJcbn1cclxuXHJcbmFsbFBvcHVwcy5mb3JFYWNoKChvdXQpID0+IHtcclxuICBvdXQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsICh7dGFyZ2V0LCBjdXJyZW50VGFyZ2V0fSkgPT4geyBcclxuICAgIGNvbnN0IGlzVGFyZ2V0Q2xvc2VCdXR0b24gPSB0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9fY2xvc2UnKTtcclxuICAgIGNvbnN0IGlzVGFyZ2V0T3ZlcmxheSA9IHRhcmdldCA9PT0gY3VycmVudFRhcmdldDtcclxuICAgIGlmIChpc1RhcmdldENsb3NlQnV0dG9uIHx8IGlzVGFyZ2V0T3ZlcmxheSkgY2xvc2VNb2RhbChvdXQpO1xyXG4gIH0pO1xyXG59KTtcclxuXHJcbnJlbGVhc2VDYXJkKCk7IC8vIGkgd291bGQgbGlrZSB0byBnZXQgcmlkIG9mIHRoaXMgdGhpbmcsIGJ1dCBJIHN0aWxsIGRvbnQga25vdyBob3cgdG8gZG8gaXQuLi4gOmNcclxuXHJcbmZ1bmN0aW9uIGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0KGV2dCkgeyAvLyBmdW5jdGlvbiB0aGF0IGFsbG93cyBjaGFuZ2luZyB0aGUgcHJvZmlsZU5hbWUgYW5kIHByb2ZpbGVEZXNjcmlwdGlvbiBcclxuICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICBwcm9maWxlTmFtZS50ZXh0Q29udGVudCA9IGlucHV0TmFtZS52YWx1ZTtcclxuICBwcm9maWxlRGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSBpbnB1dERlc2NyaXB0aW9uLnZhbHVlO1xyXG4gIGNsb3NlTW9kYWwocG9wdXBQcm9maWxlRWRpdCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUNhcmRTdWJtaXQoZXZ0KSB7IC8vIGZ1bmN0aW9uIHRoYXQgYWRkcyBhIG5ldyBjYXJkIHRvIHRoZSBwYWdlXHJcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgY29uc3QgaW5wdXROYW1lID0gaW5wdXRQbGFjZU5hbWVGb3JtQWRkTmV3Q2FyZC52YWx1ZTtcclxuICBjb25zdCBpbnB1dExpbmsgPSBpbnB1dFBsYWNlTGlua0Zvcm1BZGROZXdDYXJkLnZhbHVlO1xyXG4gIGNvbnN0IGNhcmQgPSB7XHJcbiAgICBuYW1lOiBpbnB1dE5hbWUsXHJcbiAgICBsaW5rOiBpbnB1dExpbmtcclxuICB9O1xyXG4gIGNvbnN0IG5ld0NhcmQgPSBjcmVhdGVDYXJkKGNhcmQsIGRlbGV0ZUNhcmQsIG9wZW5JbWcsIGhhbmRsZUxpa2UpO1xyXG4gIGNhcmRDb250YWluZXIucHJlcGVuZChuZXdDYXJkKTtcclxuICBjbG9zZU1vZGFsKG5ld0NhcmRQb3B1cCk7XHJcbiAgbmV3Q2FyZFBvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpLnJlc2V0KCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG9wZW5JbWcoZGF0YSkge1xyXG4gIGltYWdlUG9wdXBJbWFnZS5hbHQgPSBkYXRhLm5hbWU7XHJcbiAgaW1hZ2VQb3B1cENhcHRpb24udGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XHJcbiAgaW1hZ2VQb3B1cEltYWdlLnNyYyA9IGRhdGEubGluaztcclxuICBvcGVuTW9kYWwoaW1hZ2VPcGVuUG9wdXApO1xyXG59O1xyXG5cclxuLy8gY2xpY2sgRXZlbnQgTGlzdGVuZXJzXHJcbnByb2ZpbGVFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gIGlucHV0TmFtZS52YWx1ZSA9IHByb2ZpbGVOYW1lLnRleHRDb250ZW50O1xyXG4gIGlucHV0RGVzY3JpcHRpb24udmFsdWUgPSBwcm9maWxlRGVzY3JpcHRpb24udGV4dENvbnRlbnQ7XHJcbiAgb3Blbk1vZGFsKHBvcHVwUHJvZmlsZUVkaXQpO1xyXG59KTtcclxuXHJcbnByb2ZpbGVCdXR0b25BZGQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgb3Blbk1vZGFsKG5ld0NhcmRQb3B1cCk7XHJcbn0pO1xyXG5cclxubmV3Q2FyZFBvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGhhbmRsZUNhcmRTdWJtaXQpO1xyXG5mb3JtUHJvZmlsZUVkaXQuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgaGFuZGxlUHJvZmlsZUZvcm1TdWJtaXQpOyJdLCJuYW1lcyI6WyJjYXJkVGVtcGxhdGUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwiY3JlYXRlQ2FyZCIsImRhdGEiLCJkZWxldGVDYXJkIiwib3BlbkltZyIsImhhbmRsZUxpa2UiLCJjYXJkIiwiY2xvbmVOb2RlIiwiY2FyZEltZyIsInRleHRDb250ZW50IiwibmFtZSIsInNyYyIsImxpbmsiLCJhbHQiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZ0IiwidGFyZ2V0IiwiY2xvc2VzdCIsInJlbW92ZSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsIm9wZW5Nb2RhbCIsInBvcHVwIiwiYWRkIiwiY2xvc2VFc2MiLCJjbG9zZU1vZGFsIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNvZGUiLCJjYXJkQ29udGFpbmVyIiwicHJvZmlsZUVkaXRCdXR0b24iLCJwcm9maWxlQnV0dG9uQWRkIiwibmV3Q2FyZFBvcHVwIiwiaW1hZ2VPcGVuUG9wdXAiLCJpbWFnZVBvcHVwSW1hZ2UiLCJpbWFnZVBvcHVwQ2FwdGlvbiIsInByb2ZpbGVOYW1lIiwicHJvZmlsZURlc2NyaXB0aW9uIiwicG9wdXBQcm9maWxlRWRpdCIsImZvcm1Qcm9maWxlRWRpdCIsImlucHV0TmFtZSIsImlucHV0RGVzY3JpcHRpb24iLCJhbGxQb3B1cHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5wdXRQbGFjZU5hbWVGb3JtQWRkTmV3Q2FyZCIsImlucHV0UGxhY2VMaW5rRm9ybUFkZE5ld0NhcmQiLCJmb3JFYWNoIiwib3V0IiwiX3JlZiIsImN1cnJlbnRUYXJnZXQiLCJjb250YWlucyIsImFwcGVuZCIsInZhbHVlIiwicHJldmVudERlZmF1bHQiLCJuZXdDYXJkIiwicHJlcGVuZCIsInJlc2V0Il0sInNvdXJjZVJvb3QiOiIifQ==